<!-- Modal Overlay -->
<div id="crudModal" class="hidden fixed inset-0 z-50 w-full flex items-center justify-center bg-black/70 backdrop-blur-sm">
  <!-- Modal Card -->
  <div id="crudModalContent"
       class="bg-slate-900 rounded-2xl border border-slate-800 shadow-2xl w-11/12 sm:w-4/5 md:w-3/4 lg:w-3/5 opacity-0 scale-95 transition-all duration-150 overflow-hidden">
    
    <!-- Header -->
    <div class="flex items-center justify-between p-4 border-b border-slate-800">
      <div>
        <h3 id="crudModalTitle" class="text-xl font-semibold text-white">Edit</h3>
        <p id="crudModalSubtitle" class="text-sm text-slate-400 mt-1 hidden"></p>
      </div>
      <button type="button"
              class="text-slate-400 hover:text-white rounded-lg text-2xl px-2"
              onclick="hideModal()">&times;</button>
    </div>

    <!-- Body -->
    <div id="crudModalBody"
         class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-800"
         style="max-height: 75vh;">
      
      <!-- Left -->
      <div id="crudModalLeft" class="bg-slate-950 p-6 flex items-center justify-center">
        <img id="crudModalImage" src="" alt="Preview"
             class="rounded-xl shadow-lg max-h-[22rem] w-auto object-contain border border-slate-800 hidden">
        <div id="crudModalNoImage" class="text-slate-500">No Image</div>
      </div>

      <!-- Right -->
      <div id="crudModalRight"
           class="p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-900">
      </div>
    </div>

    <!-- Footer -->
    <div class="flex justify-end gap-3 p-4 border-t border-slate-800 bg-slate-900">
      <button type="button" id="crudModalCancel"
              class="px-5 py-2 bg-slate-700 hover:bg-slate-600 rounded-md font-semibold transition"
              onclick="hideModal()">Cancel</button>
      <button type="button" id="crudModalSave"
              class="px-5 py-2 bg-sky-500 hover:bg-sky-600 text-slate-950 rounded-md font-semibold transition">
        Save
      </button>
    </div>
  </div>
</div>

<script>
function showModal() {
  const modal = document.getElementById('crudModal');
  const content = document.getElementById('crudModalContent');
  modal.classList.remove('hidden');
  requestAnimationFrame(() => {
    content.classList.remove('opacity-0','scale-95');
    content.classList.add('opacity-100','scale-100');
  });
}

function hideModal() {
  const modal = document.getElementById('crudModal');
  const content = document.getElementById('crudModalContent');
  content.classList.remove('opacity-100','scale-100');
  content.classList.add('opacity-0','scale-95');
  setTimeout(() => modal.classList.add('hidden'), 150);
}
</script>
